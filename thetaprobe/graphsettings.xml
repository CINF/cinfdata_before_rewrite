<?xml version='1.0' standalone='yes'?>
<graphs>

  <!-- MULTI DATEPLOT -->
  <graph type='multidateplot_pressures'>
    <app>
      <title>Pressures</title>
      
    </app>
    <default_xscale>dat</default_xscale>
    <xlabel>Date</xlabel>
    <right_legend_suffix> (r)</right_legend_suffix>
    <!-- Fall back settings -->
    <title>Multiple dateplots</title>
    <ylabel>Mixed</ylabel>
    <dygraph_settings>
      <roll_period>5</roll_period>
      <labels_side>true</labels_side>
    </dygraph_settings>

    <dateplot1>
      <title>Pressure load lock</title>
      <legend>p$_{load\,lock}$</legend>
      <!-- dateplot id 10 -->
      <query>SELECT unix_timestamp(time), value FROM dateplots_thetaprobe WHERE type=10 AND time BETWEEN "{from}" AND "{to}" ORDER BY TIME</query>
      <ylabel>Pressure / mbar</ylabel>
      <color>1</color>
    </dateplot1>

    <dateplot2>
      <title>Pressure UV gun</title>
      <legend>p$_{UV\,gun}$</legend>
      <!-- dateplot id 11 -->
      <query>SELECT unix_timestamp(time), value FROM dateplots_thetaprobe WHERE type=11 AND time BETWEEN "{from}" AND "{to}" ORDER BY TIME</query>
      <ylabel>Pressure / mbar</ylabel>
      <color>2</color>
    </dateplot2>
  </graph>

  <graph type='websocket_simple1'>
    <fields>
      <field0>
	<socket>0</socket>
	<codename>thetaprobe_pressure_loadlock</codename>
	<name>Pressure Load Lock</name>
	<unit>mbar</unit>
      </field0>
      <field1>
	<socket>0</socket>
	<codename>thetaprobe_pressure_uvgun</codename>
	<name>Pressure UV gun</name>
	<unit>mbar</unit>
      </field1>
    </fields>
  </graph>

  <graph type="livegraph1">
    <!-- All widths are in multipla of 12 px and heights in multipla of 9 px -->
    <page_width>80</page_width>
    <layout>
      <container0>
	<width>20</width>
	<figure0>
	  <height>20</height>
	</figure0>
	<figure1>
	  <height>20</height>
	</figure1>
      </container0>
      <container1>
	<width>40</width>
	<figure2>
	  <height>40</height>
	</figure2>
      </container1>
    </layout>
    <figures>
      <figure0>
	<update_interval>100</update_interval>
	<plots>
	  <plot0>
	    <socket>0</socket>
	    <id>sine1</id>
	    <label>Sine 1</label>
	  </plot0>
	</plots>
      </figure0>
      <figure1>
	<update_interval>200</update_interval>
	<plots>
	  <plot0>
	    <socket>0</socket>
	    <id>sine2</id>
	    <label>Sine 2</label>
	  </plot0>
	</plots>
      </figure1>
      <figure2>
	<update_interval>100</update_interval>
	<plots>
	  <plot0>
	    <socket>0</socket>
	    <id>sine1</id>
	    <label>Sine 1</label>
	  </plot0>
	  <plot1>
	    <socket>0</socket>
	    <id>sine2</id>
	    <label>Sine 2</label>
	  </plot1>
	</plots>
      </figure2>
      <figure3>
	<update_interval>500</update_interval>
	<plots>
	  <plot0>
	    <socket>1</socket>
	    <id>parab1</id>
	    <label>Parab 1</label>
	  </plot0>
	</plots>
      </figure3>
    </figures>
  </graph>

  <graph type="livegraph5">
    <page_width>1280</page_width>
    <page_title>Live Plots Test</page_title> <!-- option page title -->
    <containers>

      <!-- Container 1, contains the second plot -->
      <container0>
	<type>figure</type>
	<title>Theta Probe</title>
	<update_interval>1.0</update_interval>
	<!-- <bgcolor>#E7E7E7</bgcolor>-->
	<width>600</width>
	<height>400</height>
	<jump_ahead>0.8</jump_ahead>
	<x_window>10</x_window>
	<logscale>true</logscale>
	<line_width>7</line_width>
	<figure>
	  <plot0>
	    <socket>0</socket>
	    <id>thetaprobe_pressure_loadlock</id>
	    <label>Load lock pressure / [mbar]</label>
	    <color>#FF0000</color>
	  </plot0>
	</figure>
      </container0>

      <!-- Container 1, contains the second plot -->
      <container1>
	<type>figure</type>
	<title>Theta Probe</title>
	<update_interval>1.0</update_interval>
	<!-- <bgcolor>#E7E7E7</bgcolor>-->
	<width>600</width>
	<height>400</height>
	<jump_ahead>0.8</jump_ahead>
	<x_window>10</x_window>
	<logscale>true</logscale>
	<line_width>7</line_width>
	<figure>
	  <plot0>
	    <socket>0</socket>
	    <id>thetaprobe_pressure_uvgun</id>
	    <label>UV gun pressure / [mbar]</label>
	    <color>#0000FF</color>
	  </plot0>	  
	</figure>
      </container1>

      <container2>
	<type>data</type>
	<!--<bgcolor>#FFFFFF</bgcolor>-->
	<width>600</width>
	<height>200</height>
	<fontsize>24</fontsize>
	<show_diff>true</show_diff>
	<data>
	  <item0>
	    <socket>0</socket>
	    <id>thetaprobe_pressure_loadlock</id>
	    <label>Load lock / [mbar]</label>
	    <color>#FF0000</color>
	  </item0>
	  <item1>
	    <socket>0</socket>
	    <id>thetaprobe_pressure_uvgun</id>
	    <label>UV gun / [mbar]</label>
	    <color>#0000FF</color>
	  </item1>
	</data>
      </container2>
    </containers>
  </graph>


  <!-- GLOBAL SETTINGS -->
  <global_settings>
    <app_title>Theta probe</app_title>
    <measurements_table>measurements_thetaprobe</measurements_table>
    <xyvalues_table>xy_values_thetaprobe</xyvalues_table>
    <sql_username>thetaprobe</sql_username>
    <image_format>png</image_format>
    <mandatory_export_fields>
      <field0>
	<field>id</field>
	<name>Id</name>
      </field0>
      <field1>
	<field>type</field>
	<name>Type</name>
      </field1>
      <field2>
	<field>time</field>
	<name>Recorded at</name>
      </field2>
      <field3>
	<field>comment</field>
	<name>Comment</name>
      </field3>
    </mandatory_export_fields>
    <matplotlib_settings>
      <width>900</width>
      <height>600</height>
      <title_size>24</title_size>
      <xtick_labelsize>12</xtick_labelsize>
      <ytick_labelsize>12</ytick_labelsize>
      <legend_fontsize>10</legend_fontsize>
      <label_fontsize>16</label_fontsize>
    </matplotlib_settings>
    <sockets>
      <socket0>rasppi25:8000</socket0>
    </sockets>
  </global_settings>
</graphs>
